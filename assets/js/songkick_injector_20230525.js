!function(){"use strict";var e,t,n,o,r,i;(i=e||(e={})).Call="call",i.Reply="reply",i.Syn="syn",i.SynAck="synAck",i.Ack="ack",function(e){e.Fulfilled="fulfilled",e.Rejected="rejected"}(t||(t={})),function(e){e.ConnectionDestroyed="ConnectionDestroyed",e.ConnectionTimeout="ConnectionTimeout",e.NoIframeSrc="NoIframeSrc"}(n||(n={})),function(e){e.DataCloneError="DataCloneError"}(o||(o={})),(r||(r={})).Message="message";const a={"http:":"80","https:":"443"},s=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,c=["file:","data:"],d=({name:e,message:t,stack:n})=>({name:e,message:t,stack:n});let l=0;var u=()=>++l;const g=e=>e?e.split("."):[],m=(e,t,n)=>{const o=g(t);return o.reduce(((e,t,r)=>(void 0===e[t]&&(e[t]={}),r===o.length-1&&(e[t]=n),e[t])),e),e},p=(e,t)=>{const n={};return Object.keys(e).forEach((o=>{const r=e[o],i=((e,t)=>{const n=g(t||"");return n.push(e),(e=>e.join("."))(n)})(o,t);"object"==typeof r&&Object.assign(n,p(r,i)),"function"==typeof r&&(n[i]=r)})),n};var h=(o,i,a,s,c)=>{const{localName:d,local:l,remote:g,originForSending:p,originForReceiving:h}=i;let f=!1;c(`${d}: Connecting call sender`);const v=a.reduce(((o,i)=>{return o[i]=(a=i,(...o)=>{let i;c(`${d}: Sending ${a}() call`);try{g.closed&&(i=!0)}catch(e){i=!0}if(i&&s(),f){const e=new Error(`Unable to send ${a}() call due to destroyed connection`);throw e.code=n.ConnectionDestroyed,e}return new Promise(((n,i)=>{const s=u(),m=o=>{if(o.source!==g||o.data.penpal!==e.Reply||o.data.id!==s)return;if("*"!==h&&o.origin!==h)return void c(`${d} received message from origin ${o.origin} which did not match expected origin ${h}`);const u=o.data;c(`${d}: Received ${a}() reply`),l.removeEventListener(r.Message,m);let p=u.returnValue;u.returnValueIsError&&(p=(e=>{const t=new Error;return Object.keys(e).forEach((n=>t[n]=e[n])),t})(p)),(u.resolution===t.Fulfilled?n:i)(p)};l.addEventListener(r.Message,m);const f={penpal:e.Call,id:s,methodName:a,args:o};g.postMessage(f,p)}))}),o;var a}),{});return Object.assign(o,(e=>{const t={};for(const n in e)m(t,n,e[n]);return t})(v)),()=>{f=!0}},f=i=>{let{iframe:l,methods:u={},childOrigin:g,timeout:m,debug:f=!1}=i;const v=(e=>(...t)=>{e&&console.log("[Penpal]",...t)})(f),y=((e,t)=>{const n=[];let o=!1;return{destroy(e){o||(o=!0,t("Parent: Destroying connection"),n.forEach((t=>{t(e)})))},onDestroy(e){o?e():n.push(e)}}})(0,v),{onDestroy:w,destroy:E}=y;g||((e=>{if(!e.src&&!e.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=n.NoIframeSrc,e}})(l),g=(e=>{if(e&&c.find((t=>e.startsWith(t))))return"null";const t=document.location,n=s.exec(e);let o,r,i;return n?(o=n[1]?n[1]:t.protocol,r=n[2],i=n[4]):(o=t.protocol,r=t.hostname,i=t.port),`${o}//${r}${i&&i!==a[o]?`:${i}`:""}`})(l.src));const k="null"===g?"*":g,b=p(u),S=((t,n,o,r)=>i=>{if(!i.source)return;if("*"!==o&&i.origin!==o)return void t(`Parent: Handshake - Received SYN message from origin ${i.origin} which did not match expected origin ${o}`);t("Parent: Handshake - Received SYN, responding with SYN-ACK");const a={penpal:e.SynAck,methodNames:Object.keys(n)};i.source.postMessage(a,r)})(v,b,g,k),$=((n,i,a,s,c)=>{const{destroy:l,onDestroy:u}=s;let g,m;const p={};return s=>{if("*"!==i&&s.origin!==i)return void c(`Parent: Handshake - Received ACK message from origin ${s.origin} which did not match expected origin ${i}`);c("Parent: Handshake - Received ACK");const f={localName:"Parent",local:window,remote:s.source,originForSending:a,originForReceiving:i};g&&g(),g=((n,i,a)=>{const{localName:s,local:c,remote:l,originForSending:u,originForReceiving:g}=n;let m=!1;const p=n=>{if(n.source!==l||n.data.penpal!==e.Call)return;if("*"!==g&&n.origin!==g)return void a(`${s} received message from origin ${n.origin} which did not match expected origin ${g}`);const r=n.data,{methodName:c,args:p,id:h}=r;a(`${s}: Received ${c}() call`);const f=n=>r=>{if(a(`${s}: Sending ${c}() reply`),m)return void a(`${s}: Unable to send ${c}() reply due to destroyed connection`);const i={penpal:e.Reply,id:h,resolution:n,returnValue:r};n===t.Rejected&&r instanceof Error&&(i.returnValue=d(r),i.returnValueIsError=!0);try{l.postMessage(i,u)}catch(n){if(n.name===o.DataCloneError){const o={penpal:e.Reply,id:h,resolution:t.Rejected,returnValue:d(n),returnValueIsError:!0};l.postMessage(o,u)}throw n}};new Promise((e=>e(i[c].apply(i,p)))).then(f(t.Fulfilled),f(t.Rejected))};return c.addEventListener(r.Message,p),()=>{m=!0,c.removeEventListener(r.Message,p)}})(f,n,c),u(g),m&&m.forEach((e=>{delete p[e]})),m=s.data.methodNames;const v=h(p,f,m,l,c);return u(v),p}})(b,g,k,y,v),C=new Promise(((t,o)=>{const i=((e,t)=>{let o;return void 0!==e&&(o=window.setTimeout((()=>{const o=new Error(`Connection timed out after ${e}ms`);o.code=n.ConnectionTimeout,t(o)}),e)),()=>{clearTimeout(o)}})(m,E),a=n=>{if(n.source===l.contentWindow&&n.data)if(n.data.penpal!==e.Syn)if(n.data.penpal!==e.Ack);else{const e=$(n);e&&(i(),t(e))}else S(n)};window.addEventListener(r.Message,a),v("Parent: Awaiting handshake"),((e,t)=>{const{destroy:n,onDestroy:o}=t,r=setInterval((()=>{e.isConnected||(clearInterval(r),n())}),6e4);o((()=>{clearInterval(r)}))})(l,y),w((e=>{window.removeEventListener(r.Message,a),e&&o(e)}))}));return{promise:C,destroy(){E()}}},v=(e,t)=>{return n=void 0,o=void 0,i=function*(){const n={setIframeHeight:e=>{const n=document.getElementById(t);n&&(n.style.height=`${e.toString()}px`)}},o=f({iframe:e,methods:Object.assign({},n)});try{const e=yield o.promise;(null==e?void 0:e.setReferrer)&&e.setReferrer(window.location.origin)}catch(e){console.log("Error on connection",e)}},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}c((i=i.apply(n,o||[])).next())}));var n,o,r,i};const y=(e,t,n)=>{let o="";return e?(["background-color","font-color","font-family","font-size","font-weight","locale","other-artists","theme","text-shadow","text-transform","track-button","share-button","country-filter","rsvp","request-show","remind-me","past-events","past-events-offtour"].forEach((r=>{let i=e.getAttribute("data-"+r);if(!i&&t&&n){const e="font-color"===r?"color":r;i=n.getPropertyValue(e)}i&&(o+="&"+r+"="+encodeURIComponent(i))})),o):o},w="www.songkick.com",E="skweb-iap.staging.soundbadger.net",k="dev.skweb-iap.staging.soundbadger.net",b=e=>{var t,n,o,r;const i=new RegExp("^https?://("+[w,E,k].join("|")+")/(artists|users|venues)/([0-9a-zA-Z-+._]+|[0-9]+)$").exec(e);if(i){let e,a,s="";switch(i[1]){case w:s="widget-app.songkick.com";break;case E:s="widget-app.staging.songkick.net";break;case k:s="localhost:3000"}switch(i[2]){case"venues":e="venue",a=null===(n=null===(t=i[3])||void 0===t?void 0:t.match(/^\d+/))||void 0===n?void 0:n[0];break;case"users":e="username",a=i[3];break;case"artists":e="artist",a=null===(r=null===(o=i[3])||void 0===o?void 0:o.match(/^\d+/))||void 0===r?void 0:r[0]}return{targetDomain:s,stagingEnv:!!s.match(/staging\.songkick\.net/),devEnv:!!s.match(/localhost\:3000/),resourceType:e,resourceId:a}}return null},S=()=>{if(window.isLoadingSKIFrame)return null;window.isLoadingSKIFrame=!0;const e=document.querySelectorAll("a.songkick-widget");return null===e?(console.error("no a tag detected"),null):(e.forEach((e=>{const{parentStyle:t,detectStyleEnabled:n}=(e=>{let t=null;const n="true"===e.getAttribute("data-detect-style");return n&&e.parentNode&&(t=window.getComputedStyle(e.parentNode)),{parentStyle:t,detectStyleEnabled:n}})(e);(({sourceTag:e,parentStyle:t,detectStyleEnabled:n})=>{var o;const r=document.createElement("iframe"),i=null!==(o=(({sourceTag:e,parentStyle:t,detectStyleEnabled:n})=>{var o;if(!e)return;const r=b(e.href);if(!r)return;let i=e.style.width;i||(i="100%");let a=e.textContent||e.innerText;a||(a="");const s=r.resourceType,c=null!==(o=r.resourceId)&&void 0!==o?o:"";let d=[r.devEnv?"http:":"https:","//",r.targetDomain,"/?",s,"=",encodeURIComponent(c),"&header=",encodeURIComponent(a),y(e,n,t)].join("");return r.stagingEnv?d+="&staging=true":r.devEnv&&(d+="&staging=true",d=d.replace(/3000/,"8080")),d})({sourceTag:e,parentStyle:t,detectStyleEnabled:n}))&&void 0!==o?o:"",a=(e=>{var t;return`songkick-widget-${(null===(t=b(e))||void 0===t?void 0:t.resourceId)||""}-${Math.floor(1e4*Math.random()+1)}`})(e.href);r.setAttribute("id",a),r.style.height="400px",r.style.width="100%",r.setAttribute("border","none"),r.setAttribute("frameBorder","0"),r.setAttribute("allow","clipboard-write"),r.src=i,(null==e?void 0:e.parentNode)&&(e.parentNode.replaceChild(r,e),v(r,a))})({sourceTag:e,parentStyle:t,detectStyleEnabled:n})})),$())},$=()=>{window.isLoadingSKIFrame=!1};"complete"===document.readyState&&S(),document.onreadystatechange=()=>{"complete"===document.readyState&&S()}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFzQkp3RSxDQUFZLENBQUVqRCxVQUFXNEIsRUFBSzFCLGNBQWFELHNCQUFxQixJQUU3RCxJQUFPLEVBSVosRUFBUSxLQUNWakQsT0FBMEIsbUJBQUksQ0FBSyxFQUdQLGFBQXhCZixTQUFTaUgsWUFDVHpCLElBS1J4RixTQUFTa0gsbUJBQXFCLEtBQ0UsYUFBeEJsSCxTQUFTaUgsWUFDVHpCLEdBQ0osQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dpZGdldC1hcHAvLi8ueWFybi9jYWNoZS9wZW5wYWwtbnBtLTYuMi4yLTY0MjM4OGI1NmEtZjZlMWFlNDRlMS56aXAvbm9kZV9tb2R1bGVzL3BlbnBhbC9saWIvZW51bXMuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9wYXJlbnQvZ2V0T3JpZ2luRnJvbVNyYy5qcyIsIndlYnBhY2s6Ly93aWRnZXQtYXBwLy4vLnlhcm4vY2FjaGUvcGVucGFsLW5wbS02LjIuMi02NDIzODhiNTZhLWY2ZTFhZTQ0ZTEuemlwL25vZGVfbW9kdWxlcy9wZW5wYWwvbGliL2Vycm9yU2VyaWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly93aWRnZXQtYXBwLy4vLnlhcm4vY2FjaGUvcGVucGFsLW5wbS02LjIuMi02NDIzODhiNTZhLWY2ZTFhZTQ0ZTEuemlwL25vZGVfbW9kdWxlcy9wZW5wYWwvbGliL2dlbmVyYXRlSWQuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9tZXRob2RTZXJpYWxpemF0aW9uLmpzIiwid2VicGFjazovL3dpZGdldC1hcHAvLi8ueWFybi9jYWNoZS9wZW5wYWwtbnBtLTYuMi4yLTY0MjM4OGI1NmEtZjZlMWFlNDRlMS56aXAvbm9kZV9tb2R1bGVzL3BlbnBhbC9saWIvY29ubmVjdENhbGxTZW5kZXIuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9wYXJlbnQvY29ubmVjdFRvQ2hpbGQuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9jcmVhdGVMb2dnZXIuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9jcmVhdGVEZXN0cnVjdG9yLmpzIiwid2VicGFjazovL3dpZGdldC1hcHAvLi8ueWFybi9jYWNoZS9wZW5wYWwtbnBtLTYuMi4yLTY0MjM4OGI1NmEtZjZlMWFlNDRlMS56aXAvbm9kZV9tb2R1bGVzL3BlbnBhbC9saWIvcGFyZW50L3ZhbGlkYXRlSWZyYW1lSGFzU3JjT3JTcmNEb2MuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9wYXJlbnQvaGFuZGxlU3luTWVzc2FnZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9wYXJlbnQvaGFuZGxlQWNrTWVzc2FnZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uLy55YXJuL2NhY2hlL3BlbnBhbC1ucG0tNi4yLjItNjQyMzg4YjU2YS1mNmUxYWU0NGUxLnppcC9ub2RlX21vZHVsZXMvcGVucGFsL2xpYi9jb25uZWN0Q2FsbFJlY2VpdmVyLmpzIiwid2VicGFjazovL3dpZGdldC1hcHAvLi8ueWFybi9jYWNoZS9wZW5wYWwtbnBtLTYuMi4yLTY0MjM4OGI1NmEtZjZlMWFlNDRlMS56aXAvbm9kZV9tb2R1bGVzL3BlbnBhbC9saWIvc3RhcnRDb25uZWN0aW9uVGltZW91dC5qcyIsIndlYnBhY2s6Ly93aWRnZXQtYXBwLy4vLnlhcm4vY2FjaGUvcGVucGFsLW5wbS02LjIuMi02NDIzODhiNTZhLWY2ZTFhZTQ0ZTEuemlwL25vZGVfbW9kdWxlcy9wZW5wYWwvbGliL3BhcmVudC9tb25pdG9ySWZyYW1lUmVtb3ZhbC5qcyIsIndlYnBhY2s6Ly93aWRnZXQtYXBwLy4vc2NyaXB0cy1zcmMvQ29ubmVjdG9yLnRzIiwid2VicGFjazovL3dpZGdldC1hcHAvLi9zY3JpcHRzLXNyYy9oZWxwZXJzL2dldEN1c3RvbU9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LWFwcC8uL3NjcmlwdHMtc3JjL2luamVjdElmcmFtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIE1lc3NhZ2VUeXBlO1xuKGZ1bmN0aW9uIChNZXNzYWdlVHlwZSkge1xuICAgIE1lc3NhZ2VUeXBlW1wiQ2FsbFwiXSA9IFwiY2FsbFwiO1xuICAgIE1lc3NhZ2VUeXBlW1wiUmVwbHlcIl0gPSBcInJlcGx5XCI7XG4gICAgTWVzc2FnZVR5cGVbXCJTeW5cIl0gPSBcInN5blwiO1xuICAgIE1lc3NhZ2VUeXBlW1wiU3luQWNrXCJdID0gXCJzeW5BY2tcIjtcbiAgICBNZXNzYWdlVHlwZVtcIkFja1wiXSA9IFwiYWNrXCI7XG59KShNZXNzYWdlVHlwZSB8fCAoTWVzc2FnZVR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBSZXNvbHV0aW9uO1xuKGZ1bmN0aW9uIChSZXNvbHV0aW9uKSB7XG4gICAgUmVzb2x1dGlvbltcIkZ1bGZpbGxlZFwiXSA9IFwiZnVsZmlsbGVkXCI7XG4gICAgUmVzb2x1dGlvbltcIlJlamVjdGVkXCJdID0gXCJyZWplY3RlZFwiO1xufSkoUmVzb2x1dGlvbiB8fCAoUmVzb2x1dGlvbiA9IHt9KSk7XG5leHBvcnQgdmFyIEVycm9yQ29kZTtcbihmdW5jdGlvbiAoRXJyb3JDb2RlKSB7XG4gICAgRXJyb3JDb2RlW1wiQ29ubmVjdGlvbkRlc3Ryb3llZFwiXSA9IFwiQ29ubmVjdGlvbkRlc3Ryb3llZFwiO1xuICAgIEVycm9yQ29kZVtcIkNvbm5lY3Rpb25UaW1lb3V0XCJdID0gXCJDb25uZWN0aW9uVGltZW91dFwiO1xuICAgIEVycm9yQ29kZVtcIk5vSWZyYW1lU3JjXCJdID0gXCJOb0lmcmFtZVNyY1wiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuZXhwb3J0IHZhciBOYXRpdmVFcnJvck5hbWU7XG4oZnVuY3Rpb24gKE5hdGl2ZUVycm9yTmFtZSkge1xuICAgIE5hdGl2ZUVycm9yTmFtZVtcIkRhdGFDbG9uZUVycm9yXCJdID0gXCJEYXRhQ2xvbmVFcnJvclwiO1xufSkoTmF0aXZlRXJyb3JOYW1lIHx8IChOYXRpdmVFcnJvck5hbWUgPSB7fSkpO1xuZXhwb3J0IHZhciBOYXRpdmVFdmVudFR5cGU7XG4oZnVuY3Rpb24gKE5hdGl2ZUV2ZW50VHlwZSkge1xuICAgIE5hdGl2ZUV2ZW50VHlwZVtcIk1lc3NhZ2VcIl0gPSBcIm1lc3NhZ2VcIjtcbn0pKE5hdGl2ZUV2ZW50VHlwZSB8fCAoTmF0aXZlRXZlbnRUeXBlID0ge30pKTtcbiIsImNvbnN0IERFRkFVTFRfUE9SVF9CWV9QUk9UT0NPTCA9IHtcbiAgICAnaHR0cDonOiAnODAnLFxuICAgICdodHRwczonOiAnNDQzJyxcbn07XG5jb25zdCBVUkxfUkVHRVggPSAvXihodHRwcz86KT9cXC9cXC8oW14vOl0rKT8oOihcXGQrKSk/LztcbmNvbnN0IG9wYXF1ZU9yaWdpblNjaGVtZXMgPSBbJ2ZpbGU6JywgJ2RhdGE6J107XG4vKipcbiAqIENvbnZlcnRzIGEgc3JjIHZhbHVlIGludG8gYW4gb3JpZ2luLlxuICovXG5leHBvcnQgZGVmYXVsdCAoc3JjKSA9PiB7XG4gICAgaWYgKHNyYyAmJiBvcGFxdWVPcmlnaW5TY2hlbWVzLmZpbmQoKHNjaGVtZSkgPT4gc3JjLnN0YXJ0c1dpdGgoc2NoZW1lKSkpIHtcbiAgICAgICAgLy8gVGhlIG9yaWdpbiBvZiB0aGUgY2hpbGQgZG9jdW1lbnQgaXMgYW4gb3BhcXVlIG9yaWdpbiBhbmQgaXRzXG4gICAgICAgIC8vIHNlcmlhbGl6YXRpb24gaXMgXCJudWxsXCJcbiAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvb3JpZ2luLmh0bWwjb3JpZ2luXG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgIC8vIE5vdGUgdGhhdCBpZiBzcmMgaXMgdW5kZWZpbmVkLCB0aGVuIHNyY2RvYyBpcyBiZWluZyB1c2VkIGluc3RlYWQgb2Ygc3JjXG4gICAgLy8gYW5kIHdlIGNhbiBmb2xsb3cgdGhpcyBzYW1lIGxvZ2ljIGJlbG93IHRvIGdldCB0aGUgb3JpZ2luIG9mIHRoZSBwYXJlbnQsXG4gICAgLy8gd2hpY2ggaXMgdGhlIG9yaWdpbiB0aGF0IHdlIHdpbGwgbmVlZCB0byB1c2UuXG4gICAgY29uc3QgbG9jYXRpb24gPSBkb2N1bWVudC5sb2NhdGlvbjtcbiAgICBjb25zdCByZWdleFJlc3VsdCA9IFVSTF9SRUdFWC5leGVjKHNyYyk7XG4gICAgbGV0IHByb3RvY29sO1xuICAgIGxldCBob3N0bmFtZTtcbiAgICBsZXQgcG9ydDtcbiAgICBpZiAocmVnZXhSZXN1bHQpIHtcbiAgICAgICAgLy8gSXQncyBhbiBhYnNvbHV0ZSBVUkwuIFVzZSB0aGUgcGFyc2VkIGluZm8uXG4gICAgICAgIC8vIHJlZ2V4UmVzdWx0WzFdIHdpbGwgYmUgdW5kZWZpbmVkIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggLy9cbiAgICAgICAgcHJvdG9jb2wgPSByZWdleFJlc3VsdFsxXSA/IHJlZ2V4UmVzdWx0WzFdIDogbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgIGhvc3RuYW1lID0gcmVnZXhSZXN1bHRbMl07XG4gICAgICAgIHBvcnQgPSByZWdleFJlc3VsdFs0XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEl0J3MgYSByZWxhdGl2ZSBwYXRoLiBVc2UgdGhlIGN1cnJlbnQgbG9jYXRpb24ncyBpbmZvLlxuICAgICAgICBwcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBob3N0bmFtZSA9IGxvY2F0aW9uLmhvc3RuYW1lO1xuICAgICAgICBwb3J0ID0gbG9jYXRpb24ucG9ydDtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHBvcnQgaXMgdGhlIGRlZmF1bHQgZm9yIHRoZSBwcm90b2NvbCwgd2UgZG9uJ3Qgd2FudCB0byBhZGQgaXQgdG8gdGhlIG9yaWdpbiBzdHJpbmdcbiAgICAvLyBvciBpdCB3b24ndCBtYXRjaCB0aGUgbWVzc2FnZSdzIGV2ZW50Lm9yaWdpbi5cbiAgICBjb25zdCBwb3J0U3VmZml4ID0gcG9ydCAmJiBwb3J0ICE9PSBERUZBVUxUX1BPUlRfQllfUFJPVE9DT0xbcHJvdG9jb2xdID8gYDoke3BvcnR9YCA6ICcnO1xuICAgIHJldHVybiBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9JHtwb3J0U3VmZml4fWA7XG59O1xuIiwiLyoqXG4gKiBDb252ZXJ0cyBhbiBlcnJvciBvYmplY3QgaW50byBhIHBsYWluIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZUVycm9yID0gKHsgbmFtZSwgbWVzc2FnZSwgc3RhY2ssIH0pID0+ICh7XG4gICAgbmFtZSxcbiAgICBtZXNzYWdlLFxuICAgIHN0YWNrLFxufSk7XG4vKipcbiAqIENvbnZlcnRzIGEgcGxhaW4gb2JqZWN0IGludG8gYW4gZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVFcnJvciA9IChvYmopID0+IHtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWRFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGtleSkgPT4gKGRlc2VyaWFsaXplZEVycm9yW2tleV0gPSBvYmpba2V5XSkpO1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZWRFcnJvcjtcbn07XG4iLCJsZXQgaWQgPSAwO1xuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgdW5pcXVlIElEIChub3QgdW5pdmVyc2FsbHkgdW5pcXVlKVxuICovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiArK2lkO1xuIiwiY29uc3QgS0VZX1BBVEhfREVMSU1JVEVSID0gJy4nO1xuY29uc3Qga2V5UGF0aFRvU2VnbWVudHMgPSAoa2V5UGF0aCkgPT4ga2V5UGF0aCA/IGtleVBhdGguc3BsaXQoS0VZX1BBVEhfREVMSU1JVEVSKSA6IFtdO1xuY29uc3Qgc2VnbWVudHNUb0tleVBhdGggPSAoc2VnbWVudHMpID0+IHNlZ21lbnRzLmpvaW4oS0VZX1BBVEhfREVMSU1JVEVSKTtcbmNvbnN0IGNyZWF0ZUtleVBhdGggPSAoa2V5LCBwcmVmaXgpID0+IHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGtleVBhdGhUb1NlZ21lbnRzKHByZWZpeCB8fCAnJyk7XG4gICAgc2VnbWVudHMucHVzaChrZXkpO1xuICAgIHJldHVybiBzZWdtZW50c1RvS2V5UGF0aChzZWdtZW50cyk7XG59O1xuLyoqXG4gKiBHaXZlbiBhIGBrZXlQYXRoYCwgc2V0IGl0IHRvIGJlIGB2YWx1ZWAgb24gYHN1YmplY3RgLCBjcmVhdGluZyBhbnkgaW50ZXJtZWRpYXRlXG4gKiBvYmplY3RzIGFsb25nIHRoZSB3YXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN1YmplY3QgVGhlIG9iamVjdCBvbiB3aGljaCB0byBzZXQgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5UGF0aCBUaGUga2V5IHBhdGggYXQgd2hpY2ggdG8gc2V0IHZhbHVlLlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIFRoZSB2YWx1ZSB0byBzdG9yZSBhdCB0aGUgZ2l2ZW4ga2V5IHBhdGguXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBVcGRhdGVkIHN1YmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRBdEtleVBhdGggPSAoc3ViamVjdCwga2V5UGF0aCwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGtleVBhdGhUb1NlZ21lbnRzKGtleVBhdGgpO1xuICAgIHNlZ21lbnRzLnJlZHVjZSgocHJldlN1YmplY3QsIGtleSwgaWR4KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldlN1YmplY3Rba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHByZXZTdWJqZWN0W2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWR4ID09PSBzZWdtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBwcmV2U3ViamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZTdWJqZWN0W2tleV07XG4gICAgfSwgc3ViamVjdCk7XG4gICAgcmV0dXJuIHN1YmplY3Q7XG59O1xuLyoqXG4gKiBHaXZlbiBhIGRpY3Rpb25hcnkgb2YgKG5lc3RlZCkga2V5cyB0byBmdW5jdGlvbiwgZmxhdHRlbiB0aGVtIHRvIGEgbWFwXG4gKiBmcm9tIGtleSBwYXRoIHRvIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtZXRob2RzIFRoZSAocG90ZW50aWFsbHkgbmVzdGVkKSBvYmplY3QgdG8gc2VyaWFsaXplLlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBBIHN0cmluZyB3aXRoIHdoaWNoIHRvIHByZWZpeCBlbnRyaWVzLiBUeXBpY2FsbHkgbm90IGludGVuZGVkIHRvIGJlIHVzZWQgYnkgY29uc3VtZXJzLlxuICogQHJldHVybnMge09iamVjdH0gQW4gbWFwIGZyb20ga2V5IHBhdGggaW4gYG1ldGhvZHNgIHRvIGZ1bmN0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZU1ldGhvZHMgPSAobWV0aG9kcywgcHJlZml4KSA9PiB7XG4gICAgY29uc3QgZmxhdHRlbmVkTWV0aG9kcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1ldGhvZHNba2V5XTtcbiAgICAgICAgY29uc3Qga2V5UGF0aCA9IGNyZWF0ZUtleVBhdGgoa2V5LCBwcmVmaXgpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gUmVjdXJzZSBpbnRvIGFueSBuZXN0ZWQgY2hpbGRyZW4uXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGZsYXR0ZW5lZE1ldGhvZHMsIHNlcmlhbGl6ZU1ldGhvZHModmFsdWUsIGtleVBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBmb3VuZCBhIG1ldGhvZCwgZXhwb3NlIGl0LlxuICAgICAgICAgICAgZmxhdHRlbmVkTWV0aG9kc1trZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZsYXR0ZW5lZE1ldGhvZHM7XG59O1xuLyoqXG4gKiBHaXZlbiBhIG1hcCBvZiBrZXkgcGF0aHMgdG8gZnVuY3Rpb25zLCB1bnBhY2sgdGhlIGtleSBwYXRocyB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGZsYXR0ZW5lZE1ldGhvZHMgQSBtYXAgb2Yga2V5IHBhdGhzIHRvIGZ1bmN0aW9ucyB0byB1bnBhY2suXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIChwb3RlbnRpYWxseSBuZXN0ZWQpIG1hcCBvZiBmdW5jdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZU1ldGhvZHMgPSAoZmxhdHRlbmVkTWV0aG9kcykgPT4ge1xuICAgIGNvbnN0IG1ldGhvZHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleVBhdGggaW4gZmxhdHRlbmVkTWV0aG9kcykge1xuICAgICAgICBzZXRBdEtleVBhdGgobWV0aG9kcywga2V5UGF0aCwgZmxhdHRlbmVkTWV0aG9kc1trZXlQYXRoXSk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2RzO1xufTtcbiIsImltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4vZ2VuZXJhdGVJZCc7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZUVycm9yIH0gZnJvbSAnLi9lcnJvclNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHsgZGVzZXJpYWxpemVNZXRob2RzIH0gZnJvbSAnLi9tZXRob2RTZXJpYWxpemF0aW9uJztcbmltcG9ydCB7IEVycm9yQ29kZSwgTWVzc2FnZVR5cGUsIE5hdGl2ZUV2ZW50VHlwZSwgUmVzb2x1dGlvbiB9IGZyb20gJy4vZW51bXMnO1xuLyoqXG4gKiBBdWdtZW50cyBhbiBvYmplY3Qgd2l0aCBtZXRob2RzIHRoYXQgbWF0Y2ggdGhvc2UgZGVmaW5lZCBieSB0aGUgcmVtb3RlLiBXaGVuIHRoZXNlIG1ldGhvZHMgYXJlXG4gKiBjYWxsZWQsIGEgXCJjYWxsXCIgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJlbW90ZSwgdGhlIHJlbW90ZSdzIGNvcnJlc3BvbmRpbmcgbWV0aG9kIHdpbGwgYmVcbiAqIGV4ZWN1dGVkLCBhbmQgdGhlIG1ldGhvZCdzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIHZpYSBhIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY2FsbFNlbmRlciBTZW5kZXIgb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGF1Z21lbnRlZCB3aXRoIG1ldGhvZHMuXG4gKiBAcGFyYW0ge09iamVjdH0gaW5mbyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgbG9jYWwgYW5kIHJlbW90ZSB3aW5kb3dzLlxuICogQHBhcmFtIHtBcnJheX0gbWV0aG9kS2V5UGF0aHMgS2V5IHBhdGhzIG9mIG1ldGhvZHMgYXZhaWxhYmxlIHRvIGJlIGNhbGxlZCBvbiB0aGUgcmVtb3RlLlxuICogQHBhcmFtIHtQcm9taXNlfSBkZXN0cnVjdGlvblByb21pc2UgQSBwcm9taXNlIHJlc29sdmVkIHdoZW4gZGVzdHJveSgpIGlzIGNhbGxlZCBvbiB0aGUgcGVucGFsXG4gKiBjb25uZWN0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gVGhlIGNhbGwgc2VuZGVyIG9iamVjdCB3aXRoIG1ldGhvZHMgdGhhdCBtYXkgYmUgY2FsbGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCAoY2FsbFNlbmRlciwgaW5mbywgbWV0aG9kS2V5UGF0aHMsIGRlc3Ryb3lDb25uZWN0aW9uLCBsb2cpID0+IHtcbiAgICBjb25zdCB7IGxvY2FsTmFtZSwgbG9jYWwsIHJlbW90ZSwgb3JpZ2luRm9yU2VuZGluZywgb3JpZ2luRm9yUmVjZWl2aW5nLCB9ID0gaW5mbztcbiAgICBsZXQgZGVzdHJveWVkID0gZmFsc2U7XG4gICAgbG9nKGAke2xvY2FsTmFtZX06IENvbm5lY3RpbmcgY2FsbCBzZW5kZXJgKTtcbiAgICBjb25zdCBjcmVhdGVNZXRob2RQcm94eSA9IChtZXRob2ROYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgbG9nKGAke2xvY2FsTmFtZX06IFNlbmRpbmcgJHttZXRob2ROYW1lfSgpIGNhbGxgKTtcbiAgICAgICAgICAgIC8vIFRoaXMgaGFuZGxlcyB0aGUgY2FzZSB3aGVyZSB0aGUgaWZyYW1lIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gICAgICAgICAgICAvLyAoYW5kIHRoZXJlZm9yZSBpdHMgd2luZG93IGNsb3NlZCksIHRoZSBjb25zdW1lciBoYXMgbm90IHlldFxuICAgICAgICAgICAgLy8gY2FsbGVkIGRlc3Ryb3koKSwgYW5kIHRoZSB1c2VyIGNhbGxzIGEgbWV0aG9kIGV4cG9zZWQgYnlcbiAgICAgICAgICAgIC8vIHRoZSByZW1vdGUuIFdlIGRldGVjdCB0aGUgaWZyYW1lIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGZvcmNlXG4gICAgICAgICAgICAvLyBhIGRlc3Ryb3koKSBpbW1lZGlhdGVseSBzbyB0aGF0IHRoZSBjb25zdW1lciBzZWVzIHRoZSBlcnJvciBzYXlpbmdcbiAgICAgICAgICAgIC8vIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIGRlc3Ryb3llZC4gV2Ugd3JhcCB0aGlzIGNoZWNrIGluIGEgdHJ5IGNhdGNoXG4gICAgICAgICAgICAvLyBiZWNhdXNlIEVkZ2UgdGhyb3dzIGFuIFwiT2JqZWN0IGV4cGVjdGVkXCIgZXJyb3Igd2hlbiBhY2Nlc3NpbmdcbiAgICAgICAgICAgIC8vIGNvbnRlbnRXaW5kb3cuY2xvc2VkIG9uIGEgY29udGVudFdpbmRvdyBmcm9tIGFuIGlmcmFtZSB0aGF0J3MgYmVlblxuICAgICAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgICBsZXQgaWZyYW1lUmVtb3ZlZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW90ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZnJhbWVSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZnJhbWVSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgZGVzdHJveUNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgVW5hYmxlIHRvIHNlbmQgJHttZXRob2ROYW1lfSgpIGNhbGwgZHVlIGAgKyBgdG8gZGVzdHJveWVkIGNvbm5lY3Rpb25gKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gRXJyb3JDb2RlLkNvbm5lY3Rpb25EZXN0cm95ZWQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2VFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlICE9PSByZW1vdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEucGVucGFsICE9PSBNZXNzYWdlVHlwZS5SZXBseSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pZCAhPT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luRm9yUmVjZWl2aW5nICE9PSAnKicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbiAhPT0gb3JpZ2luRm9yUmVjZWl2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2coYCR7bG9jYWxOYW1lfSByZWNlaXZlZCBtZXNzYWdlIGZyb20gb3JpZ2luICR7ZXZlbnQub3JpZ2lufSB3aGljaCBkaWQgbm90IG1hdGNoIGV4cGVjdGVkIG9yaWdpbiAke29yaWdpbkZvclJlY2VpdmluZ31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBseU1lc3NhZ2UgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBsb2coYCR7bG9jYWxOYW1lfTogUmVjZWl2ZWQgJHttZXRob2ROYW1lfSgpIHJlcGx5YCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoTmF0aXZlRXZlbnRUeXBlLk1lc3NhZ2UsIGhhbmRsZU1lc3NhZ2VFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IHJlcGx5TWVzc2FnZS5yZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGx5TWVzc2FnZS5yZXR1cm5WYWx1ZUlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gZGVzZXJpYWxpemVFcnJvcihyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKHJlcGx5TWVzc2FnZS5yZXNvbHV0aW9uID09PSBSZXNvbHV0aW9uLkZ1bGZpbGxlZCA/IHJlc29sdmUgOiByZWplY3QpKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxvY2FsLmFkZEV2ZW50TGlzdGVuZXIoTmF0aXZlRXZlbnRUeXBlLk1lc3NhZ2UsIGhhbmRsZU1lc3NhZ2VFdmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbnBhbDogTWVzc2FnZVR5cGUuQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZW1vdGUucG9zdE1lc3NhZ2UoY2FsbE1lc3NhZ2UsIG9yaWdpbkZvclNlbmRpbmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBXcmFwIGVhY2ggbWV0aG9kIGluIGEgcHJveHkgd2hpY2ggc2VuZHMgaXQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcmVjZWl2ZXIuXG4gICAgY29uc3QgZmxhdHRlbmVkTWV0aG9kcyA9IG1ldGhvZEtleVBhdGhzLnJlZHVjZSgoYXBpLCBuYW1lKSA9PiB7XG4gICAgICAgIGFwaVtuYW1lXSA9IGNyZWF0ZU1ldGhvZFByb3h5KG5hbWUpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH0sIHt9KTtcbiAgICAvLyBVbnBhY2sgdGhlIHN0cnVjdHVyZSBvZiB0aGUgcHJvdmlkZWQgbWV0aG9kcyBvYmplY3Qgb250byB0aGUgQ2FsbFNlbmRlciwgZXhwb3NpbmdcbiAgICAvLyB0aGUgbWV0aG9kcyBpbiB0aGUgc2FtZSBzaGFwZSB0aGV5IHdlcmUgcHJvdmlkZWQuXG4gICAgT2JqZWN0LmFzc2lnbihjYWxsU2VuZGVyLCBkZXNlcmlhbGl6ZU1ldGhvZHMoZmxhdHRlbmVkTWV0aG9kcykpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBNZXNzYWdlVHlwZSwgTmF0aXZlRXZlbnRUeXBlIH0gZnJvbSAnLi4vZW51bXMnO1xuaW1wb3J0IGNyZWF0ZURlc3RydWN0b3IgZnJvbSAnLi4vY3JlYXRlRGVzdHJ1Y3Rvcic7XG5pbXBvcnQgY3JlYXRlTG9nZ2VyIGZyb20gJy4uL2NyZWF0ZUxvZ2dlcic7XG5pbXBvcnQgZ2V0T3JpZ2luRnJvbVNyYyBmcm9tICcuL2dldE9yaWdpbkZyb21TcmMnO1xuaW1wb3J0IGhhbmRsZUFja01lc3NhZ2VGYWN0b3J5IGZyb20gJy4vaGFuZGxlQWNrTWVzc2FnZUZhY3RvcnknO1xuaW1wb3J0IGhhbmRsZVN5bk1lc3NhZ2VGYWN0b3J5IGZyb20gJy4vaGFuZGxlU3luTWVzc2FnZUZhY3RvcnknO1xuaW1wb3J0IHsgc2VyaWFsaXplTWV0aG9kcyB9IGZyb20gJy4uL21ldGhvZFNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IG1vbml0b3JJZnJhbWVSZW1vdmFsIGZyb20gJy4vbW9uaXRvcklmcmFtZVJlbW92YWwnO1xuaW1wb3J0IHN0YXJ0Q29ubmVjdGlvblRpbWVvdXQgZnJvbSAnLi4vc3RhcnRDb25uZWN0aW9uVGltZW91dCc7XG5pbXBvcnQgdmFsaWRhdGVJZnJhbWVIYXNTcmNPclNyY0RvYyBmcm9tICcuL3ZhbGlkYXRlSWZyYW1lSGFzU3JjT3JTcmNEb2MnO1xuLyoqXG4gKiBBdHRlbXB0cyB0byBlc3RhYmxpc2ggY29tbXVuaWNhdGlvbiB3aXRoIGFuIGlmcmFtZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnMpID0+IHtcbiAgICBsZXQgeyBpZnJhbWUsIG1ldGhvZHMgPSB7fSwgY2hpbGRPcmlnaW4sIHRpbWVvdXQsIGRlYnVnID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKGRlYnVnKTtcbiAgICBjb25zdCBkZXN0cnVjdG9yID0gY3JlYXRlRGVzdHJ1Y3RvcignUGFyZW50JywgbG9nKTtcbiAgICBjb25zdCB7IG9uRGVzdHJveSwgZGVzdHJveSB9ID0gZGVzdHJ1Y3RvcjtcbiAgICBpZiAoIWNoaWxkT3JpZ2luKSB7XG4gICAgICAgIHZhbGlkYXRlSWZyYW1lSGFzU3JjT3JTcmNEb2MoaWZyYW1lKTtcbiAgICAgICAgY2hpbGRPcmlnaW4gPSBnZXRPcmlnaW5Gcm9tU3JjKGlmcmFtZS5zcmMpO1xuICAgIH1cbiAgICAvLyBJZiBldmVudC5vcmlnaW4gaXMgXCJudWxsXCIsIHRoZSByZW1vdGUgcHJvdG9jb2wgaXMgZmlsZTogb3IgZGF0YTogYW5kIHdlXG4gICAgLy8gbXVzdCBwb3N0IG1lc3NhZ2VzIHdpdGggXCIqXCIgYXMgdGFyZ2V0T3JpZ2luIHdoZW4gc2VuZGluZyBtZXNzYWdlcy5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Bvc3RNZXNzYWdlI1VzaW5nX3dpbmRvdy5wb3N0TWVzc2FnZV9pbl9leHRlbnNpb25zXG4gICAgY29uc3Qgb3JpZ2luRm9yU2VuZGluZyA9IGNoaWxkT3JpZ2luID09PSAnbnVsbCcgPyAnKicgOiBjaGlsZE9yaWdpbjtcbiAgICBjb25zdCBzZXJpYWxpemVkTWV0aG9kcyA9IHNlcmlhbGl6ZU1ldGhvZHMobWV0aG9kcyk7XG4gICAgY29uc3QgaGFuZGxlU3luTWVzc2FnZSA9IGhhbmRsZVN5bk1lc3NhZ2VGYWN0b3J5KGxvZywgc2VyaWFsaXplZE1ldGhvZHMsIGNoaWxkT3JpZ2luLCBvcmlnaW5Gb3JTZW5kaW5nKTtcbiAgICBjb25zdCBoYW5kbGVBY2tNZXNzYWdlID0gaGFuZGxlQWNrTWVzc2FnZUZhY3Rvcnkoc2VyaWFsaXplZE1ldGhvZHMsIGNoaWxkT3JpZ2luLCBvcmlnaW5Gb3JTZW5kaW5nLCBkZXN0cnVjdG9yLCBsb2cpO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0b3BDb25uZWN0aW9uVGltZW91dCA9IHN0YXJ0Q29ubmVjdGlvblRpbWVvdXQodGltZW91dCwgZGVzdHJveSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgIT09IGlmcmFtZS5jb250ZW50V2luZG93IHx8ICFldmVudC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEucGVucGFsID09PSBNZXNzYWdlVHlwZS5TeW4pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVTeW5NZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5wZW5wYWwgPT09IE1lc3NhZ2VUeXBlLkFjaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxTZW5kZXIgPSBoYW5kbGVBY2tNZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbFNlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBzdG9wQ29ubmVjdGlvblRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjYWxsU2VuZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihOYXRpdmVFdmVudFR5cGUuTWVzc2FnZSwgaGFuZGxlTWVzc2FnZSk7XG4gICAgICAgIGxvZygnUGFyZW50OiBBd2FpdGluZyBoYW5kc2hha2UnKTtcbiAgICAgICAgbW9uaXRvcklmcmFtZVJlbW92YWwoaWZyYW1lLCBkZXN0cnVjdG9yKTtcbiAgICAgICAgb25EZXN0cm95KChlcnJvcikgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoTmF0aXZlRXZlbnRUeXBlLk1lc3NhZ2UsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGFsbG93IGNvbnN1bWVyIHRvIHBhc3MgYW4gZXJyb3IgaW50byBkZXN0cm95LlxuICAgICAgICAgICAgZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgKGRlYnVnKSA9PiB7XG4gICAgLyoqXG4gICAgICogTG9ncyBhIG1lc3NhZ2UgaWYgZGVidWcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1BlbnBhbF0nLCAuLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IChsb2NhbE5hbWUsIGxvZykgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IFtdO1xuICAgIGxldCBkZXN0cm95ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95KGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIWRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9nKGAke2xvY2FsTmFtZX06IERlc3Ryb3lpbmcgY29ubmVjdGlvbmApO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICAgICAgZGVzdHJveWVkID8gY2FsbGJhY2soKSA6IGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEVycm9yQ29kZSB9IGZyb20gJy4uL2VudW1zJztcbmV4cG9ydCBkZWZhdWx0IChpZnJhbWUpID0+IHtcbiAgICBpZiAoIWlmcmFtZS5zcmMgJiYgIWlmcmFtZS5zcmNkb2MpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0lmcmFtZSBtdXN0IGhhdmUgc3JjIG9yIHNyY2RvYyBwcm9wZXJ0eSBkZWZpbmVkLicpO1xuICAgICAgICBlcnJvci5jb2RlID0gRXJyb3JDb2RlLk5vSWZyYW1lU3JjO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICcuLi9lbnVtcyc7XG4vKipcbiAqIEhhbmRsZXMgYSBTWU4gaGFuZHNoYWtlIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChsb2csIHNlcmlhbGl6ZWRNZXRob2RzLCBjaGlsZE9yaWdpbiwgb3JpZ2luRm9yU2VuZGluZykgPT4ge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgICAgLy8gVW5kZXIgc3BlY2lmaWMgdGltaW5nIGNpcmN1bXN0YW5jZXMsIHdlIGNhbiByZWNlaXZlIGFuIGV2ZW50XG4gICAgICAgIC8vIHdob3NlIHNvdXJjZSBpcyBudWxsLiBUaGlzIHNlZW1zIHRvIGhhcHBlbiB3aGVuIHRoZSBjaGlsZCBpZnJhbWUgaXNcbiAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBET00gYWJvdXQgdGhlIHNhbWUgdGltZSBpdCBoYXMgc2VudCB0aGUgU1lOIGV2ZW50LlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vQWFyb25pdXMvcGVucGFsL2lzc3Vlcy84NVxuICAgICAgICBpZiAoIWV2ZW50LnNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZE9yaWdpbiAhPT0gJyonICYmIGV2ZW50Lm9yaWdpbiAhPT0gY2hpbGRPcmlnaW4pIHtcbiAgICAgICAgICAgIGxvZyhgUGFyZW50OiBIYW5kc2hha2UgLSBSZWNlaXZlZCBTWU4gbWVzc2FnZSBmcm9tIG9yaWdpbiAke2V2ZW50Lm9yaWdpbn0gd2hpY2ggZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBvcmlnaW4gJHtjaGlsZE9yaWdpbn1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2coJ1BhcmVudDogSGFuZHNoYWtlIC0gUmVjZWl2ZWQgU1lOLCByZXNwb25kaW5nIHdpdGggU1lOLUFDSycpO1xuICAgICAgICBjb25zdCBzeW5BY2tNZXNzYWdlID0ge1xuICAgICAgICAgICAgcGVucGFsOiBNZXNzYWdlVHlwZS5TeW5BY2ssXG4gICAgICAgICAgICBtZXRob2ROYW1lczogT2JqZWN0LmtleXMoc2VyaWFsaXplZE1ldGhvZHMpLFxuICAgICAgICB9O1xuICAgICAgICBldmVudC5zb3VyY2UucG9zdE1lc3NhZ2Uoc3luQWNrTWVzc2FnZSwgb3JpZ2luRm9yU2VuZGluZyk7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgY29ubmVjdENhbGxSZWNlaXZlciBmcm9tICcuLi9jb25uZWN0Q2FsbFJlY2VpdmVyJztcbmltcG9ydCBjb25uZWN0Q2FsbFNlbmRlciBmcm9tICcuLi9jb25uZWN0Q2FsbFNlbmRlcic7XG4vKipcbiAqIEhhbmRsZXMgYW4gQUNLIGhhbmRzaGFrZSBtZXNzYWdlLlxuICovXG5leHBvcnQgZGVmYXVsdCAoc2VyaWFsaXplZE1ldGhvZHMsIGNoaWxkT3JpZ2luLCBvcmlnaW5Gb3JTZW5kaW5nLCBkZXN0cnVjdG9yLCBsb2cpID0+IHtcbiAgICBjb25zdCB7IGRlc3Ryb3ksIG9uRGVzdHJveSB9ID0gZGVzdHJ1Y3RvcjtcbiAgICBsZXQgZGVzdHJveUNhbGxSZWNlaXZlcjtcbiAgICBsZXQgcmVjZWl2ZXJNZXRob2ROYW1lcztcbiAgICAvLyBXZSByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggdGhlIGNhbGwgc2VuZGVyLiBJZiB0aGUgY2hpbGQgcmVjb25uZWN0c1xuICAgIC8vIChmb3IgZXhhbXBsZSwgYWZ0ZXIgcmVmcmVzaGluZyBvciBuYXZpZ2F0aW5nIHRvIGFub3RoZXIgcGFnZSB0aGF0XG4gICAgLy8gdXNlcyBQZW5wYWwsIHdlJ2xsIHVwZGF0ZSB0aGUgY2FsbCBzZW5kZXIgd2l0aCBtZXRob2RzIHRoYXQgbWF0Y2ggdGhlXG4gICAgLy8gbGF0ZXN0IHByb3ZpZGVkIGJ5IHRoZSBjaGlsZC5cbiAgICBjb25zdCBjYWxsU2VuZGVyID0ge307XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoY2hpbGRPcmlnaW4gIT09ICcqJyAmJiBldmVudC5vcmlnaW4gIT09IGNoaWxkT3JpZ2luKSB7XG4gICAgICAgICAgICBsb2coYFBhcmVudDogSGFuZHNoYWtlIC0gUmVjZWl2ZWQgQUNLIG1lc3NhZ2UgZnJvbSBvcmlnaW4gJHtldmVudC5vcmlnaW59IHdoaWNoIGRpZCBub3QgbWF0Y2ggZXhwZWN0ZWQgb3JpZ2luICR7Y2hpbGRPcmlnaW59YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nKCdQYXJlbnQ6IEhhbmRzaGFrZSAtIFJlY2VpdmVkIEFDSycpO1xuICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgbG9jYWxOYW1lOiAnUGFyZW50JyxcbiAgICAgICAgICAgIGxvY2FsOiB3aW5kb3csXG4gICAgICAgICAgICByZW1vdGU6IGV2ZW50LnNvdXJjZSxcbiAgICAgICAgICAgIG9yaWdpbkZvclNlbmRpbmc6IG9yaWdpbkZvclNlbmRpbmcsXG4gICAgICAgICAgICBvcmlnaW5Gb3JSZWNlaXZpbmc6IGNoaWxkT3JpZ2luLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB0aGUgY2hpbGQgcmVjb25uZWN0ZWQsIHdlIG5lZWQgdG8gZGVzdHJveSB0aGUgcHJpb3IgY2FsbCByZWNlaXZlclxuICAgICAgICAvLyBiZWZvcmUgc2V0dGluZyB1cCBhIG5ldyBvbmUuXG4gICAgICAgIGlmIChkZXN0cm95Q2FsbFJlY2VpdmVyKSB7XG4gICAgICAgICAgICBkZXN0cm95Q2FsbFJlY2VpdmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveUNhbGxSZWNlaXZlciA9IGNvbm5lY3RDYWxsUmVjZWl2ZXIoaW5mbywgc2VyaWFsaXplZE1ldGhvZHMsIGxvZyk7XG4gICAgICAgIG9uRGVzdHJveShkZXN0cm95Q2FsbFJlY2VpdmVyKTtcbiAgICAgICAgLy8gSWYgdGhlIGNoaWxkIHJlY29ubmVjdGVkLCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgbWV0aG9kcyBmcm9tIHRoZVxuICAgICAgICAvLyBwcmV2aW91cyBjYWxsIHJlY2VpdmVyIG9mZiB0aGUgc2VuZGVyLlxuICAgICAgICBpZiAocmVjZWl2ZXJNZXRob2ROYW1lcykge1xuICAgICAgICAgICAgcmVjZWl2ZXJNZXRob2ROYW1lcy5mb3JFYWNoKChyZWNlaXZlck1ldGhvZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgY2FsbFNlbmRlcltyZWNlaXZlck1ldGhvZE5hbWVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjZWl2ZXJNZXRob2ROYW1lcyA9IGV2ZW50LmRhdGEubWV0aG9kTmFtZXM7XG4gICAgICAgIGNvbnN0IGRlc3Ryb3lDYWxsU2VuZGVyID0gY29ubmVjdENhbGxTZW5kZXIoY2FsbFNlbmRlciwgaW5mbywgcmVjZWl2ZXJNZXRob2ROYW1lcywgZGVzdHJveSwgbG9nKTtcbiAgICAgICAgb25EZXN0cm95KGRlc3Ryb3lDYWxsU2VuZGVyKTtcbiAgICAgICAgcmV0dXJuIGNhbGxTZW5kZXI7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBzZXJpYWxpemVFcnJvciB9IGZyb20gJy4vZXJyb3JTZXJpYWxpemF0aW9uJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlLCBOYXRpdmVFdmVudFR5cGUsIE5hdGl2ZUVycm9yTmFtZSwgUmVzb2x1dGlvbiwgfSBmcm9tICcuL2VudW1zJztcbi8qKlxuICogTGlzdGVucyBmb3IgXCJjYWxsXCIgbWVzc2FnZXMgY29taW5nIGZyb20gdGhlIHJlbW90ZSwgZXhlY3V0ZXMgdGhlIGNvcnJlc3BvbmRpbmcgbWV0aG9kLCBhbmRcbiAqIHJlc3BvbmRzIHdpdGggdGhlIHJldHVybiB2YWx1ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGluZm8sIHNlcmlhbGl6ZWRNZXRob2RzLCBsb2cpID0+IHtcbiAgICBjb25zdCB7IGxvY2FsTmFtZSwgbG9jYWwsIHJlbW90ZSwgb3JpZ2luRm9yU2VuZGluZywgb3JpZ2luRm9yUmVjZWl2aW5nLCB9ID0gaW5mbztcbiAgICBsZXQgZGVzdHJveWVkID0gZmFsc2U7XG4gICAgY29uc3QgaGFuZGxlTWVzc2FnZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5zb3VyY2UgIT09IHJlbW90ZSB8fCBldmVudC5kYXRhLnBlbnBhbCAhPT0gTWVzc2FnZVR5cGUuQ2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmlnaW5Gb3JSZWNlaXZpbmcgIT09ICcqJyAmJiBldmVudC5vcmlnaW4gIT09IG9yaWdpbkZvclJlY2VpdmluZykge1xuICAgICAgICAgICAgbG9nKGAke2xvY2FsTmFtZX0gcmVjZWl2ZWQgbWVzc2FnZSBmcm9tIG9yaWdpbiAke2V2ZW50Lm9yaWdpbn0gd2hpY2ggZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBvcmlnaW4gJHtvcmlnaW5Gb3JSZWNlaXZpbmd9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbE1lc3NhZ2UgPSBldmVudC5kYXRhO1xuICAgICAgICBjb25zdCB7IG1ldGhvZE5hbWUsIGFyZ3MsIGlkIH0gPSBjYWxsTWVzc2FnZTtcbiAgICAgICAgbG9nKGAke2xvY2FsTmFtZX06IFJlY2VpdmVkICR7bWV0aG9kTmFtZX0oKSBjYWxsYCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVByb21pc2VIYW5kbGVyID0gKHJlc29sdXRpb24pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAocmV0dXJuVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBsb2coYCR7bG9jYWxOYW1lfTogU2VuZGluZyAke21ldGhvZE5hbWV9KCkgcmVwbHlgKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgcG9zc2libGUgdG8gdGhyb3cgYW4gZXJyb3IgaGVyZSwgYnV0IGl0IHdvdWxkIG5lZWQgdG8gYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3b3VsZCBvbmx5IGJlIGNhdGNoYWJsZSB1c2luZyB3aW5kb3cub25lcnJvci4gVGhpcyBpcyBiZWNhdXNlIHRoZSBjb25zdW1lclxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBtZXJlbHkgcmV0dXJuaW5nIGEgdmFsdWUgZnJvbSB0aGVpciBtZXRob2QgYW5kIG5vdCBjYWxsaW5nIGFueSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IHRoZXkgY291bGQgd3JhcCBpbiBhIHRyeS1jYXRjaC4gRXZlbiBpZiB0aGUgY29uc3VtZXIgd2VyZSB0byBjYXRjaCB0aGUgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBvZiBkb2luZyBzbyBpcyBxdWVzdGlvbmFibGUuIEluc3RlYWQsIHdlJ2xsIGp1c3QgbG9nIGEgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgbG9nKGAke2xvY2FsTmFtZX06IFVuYWJsZSB0byBzZW5kICR7bWV0aG9kTmFtZX0oKSByZXBseSBkdWUgdG8gZGVzdHJveWVkIGNvbm5lY3Rpb25gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICBwZW5wYWw6IE1lc3NhZ2VUeXBlLlJlcGx5LFxuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gUmVzb2x1dGlvbi5SZWplY3RlZCAmJlxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmV0dXJuVmFsdWUgPSBzZXJpYWxpemVFcnJvcihyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmV0dXJuVmFsdWVJc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIG9yaWdpbkZvclNlbmRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgY29uc3VtZXIgYXR0ZW1wdHMgdG8gc2VuZCBhbiBvYmplY3QgdGhhdCdzIG5vdCBjbG9uZWFibGUgKGUuZy4sIHdpbmRvdyksXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gZW5zdXJlIHRoZSByZWNlaXZlcidzIHByb21pc2UgZ2V0cyByZWplY3RlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5uYW1lID09PSBOYXRpdmVFcnJvck5hbWUuRGF0YUNsb25lRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yUmVwbHlNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbnBhbDogTWVzc2FnZVR5cGUuUmVwbHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogUmVzb2x1dGlvbi5SZWplY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZTogc2VyaWFsaXplRXJyb3IoZXJyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZUlzRXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlLnBvc3RNZXNzYWdlKGVycm9yUmVwbHlNZXNzYWdlLCBvcmlnaW5Gb3JTZW5kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoc2VyaWFsaXplZE1ldGhvZHNbbWV0aG9kTmFtZV0uYXBwbHkoc2VyaWFsaXplZE1ldGhvZHMsIGFyZ3MpKSkudGhlbihjcmVhdGVQcm9taXNlSGFuZGxlcihSZXNvbHV0aW9uLkZ1bGZpbGxlZCksIGNyZWF0ZVByb21pc2VIYW5kbGVyKFJlc29sdXRpb24uUmVqZWN0ZWQpKTtcbiAgICB9O1xuICAgIGxvY2FsLmFkZEV2ZW50TGlzdGVuZXIoTmF0aXZlRXZlbnRUeXBlLk1lc3NhZ2UsIGhhbmRsZU1lc3NhZ2VFdmVudCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgbG9jYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihOYXRpdmVFdmVudFR5cGUuTWVzc2FnZSwgaGFuZGxlTWVzc2FnZUV2ZW50KTtcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEVycm9yQ29kZSB9IGZyb20gJy4vZW51bXMnO1xuLyoqXG4gKiBTdGFydHMgYSB0aW1lb3V0IGFuZCBjYWxscyB0aGUgY2FsbGJhY2sgd2l0aCBhbiBlcnJvclxuICogaWYgdGhlIHRpbWVvdXQgY29tcGxldGVzIGJlZm9yZSB0aGUgc3RvcCBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0ICh0aW1lb3V0LCBjYWxsYmFjaykgPT4ge1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgaWYgKHRpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgQ29ubmVjdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zYCk7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gRXJyb3JDb2RlLkNvbm5lY3Rpb25UaW1lb3V0O1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfTtcbn07XG4iLCJjb25zdCBDSEVDS19JRlJBTUVfSU5fRE9DX0lOVEVSVkFMID0gNjAwMDA7XG4vKipcbiAqIE1vbml0b3JzIGZvciBpZnJhbWUgcmVtb3ZhbCBhbmQgZGVzdHJveXMgY29ubmVjdGlvbiBpZiBpZnJhbWVcbiAqIGlzIGZvdW5kIHRvIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gRE9NLiBUaGlzIGlzIHRvIHByZXZlbnQgbWVtb3J5XG4gKiBsZWFrcyB3aGVuIHRoZSBpZnJhbWUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCBhbmQgdGhlIGNvbnN1bWVyXG4gKiBoYXNuJ3QgY2FsbGVkIGRlc3Ryb3koKS4gV2l0aG91dCB0aGlzLCBldmVudCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG9cbiAqIHRoZSB3aW5kb3cgd291bGQgc3RpY2sgYXJvdW5kIGFuZCBzaW5jZSB0aGUgZXZlbnQgaGFuZGxlcnMgaGF2ZSBhXG4gKiByZWZlcmVuY2UgdG8gdGhlIGlmcmFtZSBpbiB0aGVpciBjbG9zdXJlcywgdGhlIGlmcmFtZSB3b3VsZCBzdGlja1xuICogYXJvdW5kIHRvby5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGlmcmFtZSwgZGVzdHJ1Y3RvcikgPT4ge1xuICAgIGNvbnN0IHsgZGVzdHJveSwgb25EZXN0cm95IH0gPSBkZXN0cnVjdG9yO1xuICAgIGNvbnN0IGNoZWNrSWZyYW1lSW5Eb2NJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoIWlmcmFtZS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0lmcmFtZUluRG9jSW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICBkZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9LCBDSEVDS19JRlJBTUVfSU5fRE9DX0lOVEVSVkFMKTtcbiAgICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSWZyYW1lSW5Eb2NJbnRlcnZhbElkKTtcbiAgICB9KTtcbn07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGNvbm5lY3RUb0NoaWxkIH0gZnJvbSBcInBlbnBhbFwiO1xuY29uc3QgQ29ubmVjdCA9IChpZnJhbWUsIGlmcmFtZUlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBtZXRob2RzID0ge1xuICAgICAgICBzZXRJZnJhbWVIZWlnaHQ6IChoZWlnaHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZUluRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWZyYW1lSWQpO1xuICAgICAgICAgICAgaWYgKGlmcmFtZUluRG9tKSB7XG4gICAgICAgICAgICAgICAgaWZyYW1lSW5Eb20uc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0LnRvU3RyaW5nKCl9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGNvbm5lY3RUb0NoaWxkKHtcbiAgICAgICAgLy8gVGhlIGlmcmFtZSB0byB3aGljaCBhIGNvbm5lY3Rpb24gc2hvdWxkIGJlIG1hZGVcbiAgICAgICAgLy8gQWRkIGRlYnVnOiB0cnVlIHRvIHNlZSBlcnJvciBsb2dzXG4gICAgICAgIGlmcmFtZSxcbiAgICAgICAgbWV0aG9kczogT2JqZWN0LmFzc2lnbih7fSwgbWV0aG9kcyksXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB5aWVsZCBjb25uZWN0aW9uLnByb21pc2U7XG4gICAgICAgIC8vIGZpcmUgYW55IGNoaWxkIG1ldGhvZHMgaGVyZVxuICAgICAgICBpZiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkLnNldFJlZmVycmVyKVxuICAgICAgICAgICAgY2hpbGQuc2V0UmVmZXJyZXIod2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBvbiBjb25uZWN0aW9uXCIsIGVycik7XG4gICAgfVxufSk7XG5leHBvcnQgZGVmYXVsdCBDb25uZWN0O1xuIiwiZXhwb3J0IGNvbnN0IGdldEN1c3RvbU9wdGlvbnMgPSAoc291cmNlVGFnLCBkZXRlY3RTdHlsZUVuYWJsZWQsIHBhcmVudFN0eWxlKSA9PiB7XG4gICAgY29uc3QgQ1VTVE9NX09QVElPTlNfV0hJVEVMSVNUID0gW1xuICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIixcbiAgICAgICAgXCJmb250LWNvbG9yXCIsXG4gICAgICAgIFwiZm9udC1mYW1pbHlcIixcbiAgICAgICAgXCJmb250LXNpemVcIixcbiAgICAgICAgXCJmb250LXdlaWdodFwiLFxuICAgICAgICBcImxvY2FsZVwiLFxuICAgICAgICBcIm90aGVyLWFydGlzdHNcIixcbiAgICAgICAgXCJ0aGVtZVwiLFxuICAgICAgICBcInRleHQtc2hhZG93XCIsXG4gICAgICAgIFwidGV4dC10cmFuc2Zvcm1cIixcbiAgICAgICAgXCJ0cmFjay1idXR0b25cIixcbiAgICAgICAgXCJzaGFyZS1idXR0b25cIixcbiAgICAgICAgXCJjb3VudHJ5LWZpbHRlclwiLFxuICAgICAgICBcInJzdnBcIixcbiAgICAgICAgXCJyZXF1ZXN0LXNob3dcIixcbiAgICAgICAgXCJyZW1pbmQtbWVcIixcbiAgICAgICAgXCJwYXN0LWV2ZW50c1wiLFxuICAgICAgICBcInBhc3QtZXZlbnRzLW9mZnRvdXJcIixcbiAgICBdO1xuICAgIGxldCBvcHRTdHJpbmcgPSBcIlwiO1xuICAgIGlmICghc291cmNlVGFnKVxuICAgICAgICByZXR1cm4gb3B0U3RyaW5nO1xuICAgIENVU1RPTV9PUFRJT05TX1dISVRFTElTVC5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gc291cmNlVGFnLmdldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBvcHRpb24pO1xuICAgICAgICBpZiAoIXZhbHVlICYmIGRldGVjdFN0eWxlRW5hYmxlZCAmJiBwYXJlbnRTdHlsZSkge1xuICAgICAgICAgICAgY29uc3QgY3NzUHJvcGVydHkgPSBvcHRpb24gPT09IFwiZm9udC1jb2xvclwiID8gXCJjb2xvclwiIDogb3B0aW9uO1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGNzc1Byb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBvcHRTdHJpbmcgKz0gXCImXCIgKyBvcHRpb24gKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9wdFN0cmluZztcbn07XG4iLCJpbXBvcnQgQ29ubmVjdCBmcm9tIFwiLi9Db25uZWN0b3JcIjtcbmltcG9ydCB7IGdldEN1c3RvbU9wdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJzL2dldEN1c3RvbU9wdGlvbnNcIjtcbmNvbnN0IFBST0RVQ1RJT05fRE9NQUlOID0gXCJ3d3cuc29uZ2tpY2suY29tXCI7XG5jb25zdCBTVEFHSU5HX0RPTUFJTiA9IFwic2t3ZWItaWFwLnN0YWdpbmcuc291bmRiYWRnZXIubmV0XCI7XG5jb25zdCBERVZfRE9NQUlOID0gXCJkZXYuc2t3ZWItaWFwLnN0YWdpbmcuc291bmRiYWRnZXIubmV0XCI7XG4vLyBUT0RPOiByZWZhY3RvciBvbmNlIHdlIGhhdmUgcHJvcGVyIHVybHNcbmNvbnN0IGdldFJlcXVlc3RJbmZvcm1hdGlvbiA9IChzb25na2lja1VybCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoXCJeaHR0cHM/Oi8vKFwiICtcbiAgICAgICAgW1BST0RVQ1RJT05fRE9NQUlOLCBTVEFHSU5HX0RPTUFJTiwgREVWX0RPTUFJTl0uam9pbihcInxcIikgK1xuICAgICAgICBcIikvKGFydGlzdHN8dXNlcnN8dmVudWVzKS8oWzAtOWEtekEtWi0rLl9dK3xbMC05XSspJFwiKTtcbiAgICBjb25zdCBtYXRjaCA9IHJlZ2V4LmV4ZWMoc29uZ2tpY2tVcmwpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBsZXQgdGFyZ2V0RG9tYWluID0gXCJcIjtcbiAgICAgICAgc3dpdGNoIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgY2FzZSBQUk9EVUNUSU9OX0RPTUFJTjpcbiAgICAgICAgICAgICAgICB0YXJnZXREb21haW4gPSBcIndpZGdldC1hcHAuc29uZ2tpY2suY29tXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNUQUdJTkdfRE9NQUlOOlxuICAgICAgICAgICAgICAgIHRhcmdldERvbWFpbiA9IFwid2lkZ2V0LWFwcC5zdGFnaW5nLnNvbmdraWNrLm5ldFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBERVZfRE9NQUlOOlxuICAgICAgICAgICAgICAgIHRhcmdldERvbWFpbiA9IFwibG9jYWxob3N0OjMwMDBcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzb3VyY2VUeXBlLCByZXNvdXJjZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKG1hdGNoWzJdKSB7XG4gICAgICAgICAgICBjYXNlIFwidmVudWVzXCI6XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VUeXBlID0gXCJ2ZW51ZVwiO1xuICAgICAgICAgICAgICAgIHJlc291cmNlSWQgPSAoX2IgPSAoX2EgPSBtYXRjaFszXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hdGNoKC9eXFxkKy8pKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidXNlcnNcIjpcbiAgICAgICAgICAgICAgICByZXNvdXJjZVR5cGUgPSBcInVzZXJuYW1lXCI7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VJZCA9IG1hdGNoWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFydGlzdHNcIjpcbiAgICAgICAgICAgICAgICByZXNvdXJjZVR5cGUgPSBcImFydGlzdFwiO1xuICAgICAgICAgICAgICAgIHJlc291cmNlSWQgPSAoX2QgPSAoX2MgPSBtYXRjaFszXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hdGNoKC9eXFxkKy8pKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICB0YXJnZXREb21haW46IHRhcmdldERvbWFpbixcbiAgICAgICAgICAgIC8vIG9wdGlvbiB0byB1c2UgU3RhZ2luZyBBUEkgaW4gc3RhZ2luZyBhbmQgZGV2ZWxvcG1lbnRcbiAgICAgICAgICAgIHN0YWdpbmdFbnY6ICEhdGFyZ2V0RG9tYWluLm1hdGNoKC9zdGFnaW5nXFwuc29uZ2tpY2tcXC5uZXQvKSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICAgICAgZGV2RW52OiAhIXRhcmdldERvbWFpbi5tYXRjaCgvbG9jYWxob3N0XFw6MzAwMC8pLFxuICAgICAgICAgICAgcmVzb3VyY2VUeXBlLFxuICAgICAgICAgICAgcmVzb3VyY2VJZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBnZXRJZnJhbWVVUkwgPSAoeyBzb3VyY2VUYWcsIHBhcmVudFN0eWxlLCBkZXRlY3RTdHlsZUVuYWJsZWQsIH0pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFzb3VyY2VUYWcpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IGdldFJlcXVlc3RJbmZvcm1hdGlvbihzb3VyY2VUYWcuaHJlZik7XG4gICAgaWYgKCFyZXF1ZXN0SW5mbylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCB3aWRnZXRBbmNob3JXaWR0aCA9IHNvdXJjZVRhZy5zdHlsZS53aWR0aDtcbiAgICBpZiAoIXdpZGdldEFuY2hvcldpZHRoKVxuICAgICAgICB3aWRnZXRBbmNob3JXaWR0aCA9IFwiMTAwJVwiO1xuICAgIGxldCB3aWRnZXRBbmNob3JUZXh0ID0gc291cmNlVGFnLnRleHRDb250ZW50IHx8IHNvdXJjZVRhZy5pbm5lclRleHQ7XG4gICAgaWYgKCF3aWRnZXRBbmNob3JUZXh0KVxuICAgICAgICB3aWRnZXRBbmNob3JUZXh0ID0gXCJcIjtcbiAgICBjb25zdCByZXNvdXJjZVR5cGUgPSByZXF1ZXN0SW5mby5yZXNvdXJjZVR5cGU7XG4gICAgY29uc3QgcmVzb3VyY2VJZCA9IChfYSA9IHJlcXVlc3RJbmZvLnJlc291cmNlSWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiXCI7XG4gICAgY29uc3QgdGFyZ2V0UHJvdG9jb2wgPSByZXF1ZXN0SW5mby5kZXZFbnYgPyBcImh0dHA6XCIgOiBcImh0dHBzOlwiO1xuICAgIGNvbnN0IHRhcmdldERvbWFpbiA9IHJlcXVlc3RJbmZvLnRhcmdldERvbWFpbjtcbiAgICBsZXQgdXJsID0gW1xuICAgICAgICB0YXJnZXRQcm90b2NvbCxcbiAgICAgICAgXCIvL1wiLFxuICAgICAgICB0YXJnZXREb21haW4sXG4gICAgICAgIFwiLz9cIixcbiAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KHJlc291cmNlSWQpLFxuICAgICAgICAvLyBcIi9zb25na2ljay13aWRnZXQuaHRtbD9cIixcbiAgICAgICAgcmVzb3VyY2VUeXBlLFxuICAgICAgICBcIj1cIixcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHJlc291cmNlSWQpLFxuICAgICAgICBcIiZoZWFkZXI9XCIsXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh3aWRnZXRBbmNob3JUZXh0KSxcbiAgICAgICAgZ2V0Q3VzdG9tT3B0aW9ucyhzb3VyY2VUYWcsIGRldGVjdFN0eWxlRW5hYmxlZCwgcGFyZW50U3R5bGUpLFxuICAgIF0uam9pbihcIlwiKTtcbiAgICAvLyBVcGRhdGUgTGF0ZXJcbiAgICAvLyBvcHRpb24gdG8gdXNlIFN0YWdpbmcgQVBJIGluIHN0YWdpbmcgYW5kIGRldmVsb3BtZW50XG4gICAgaWYgKHJlcXVlc3RJbmZvLnN0YWdpbmdFbnYpIHtcbiAgICAgICAgdXJsICs9IFwiJnN0YWdpbmc9dHJ1ZVwiO1xuICAgICAgICAvLyB1cmwgPSB1cmwucmVwbGFjZSgvbmV0XFwvLipcXC9zb25na2ljay13aWRnZXQuaHRtbC8sIFwibmV0L1wiKVxuICAgIH1cbiAgICBlbHNlIGlmIChyZXF1ZXN0SW5mby5kZXZFbnYpIHtcbiAgICAgICAgdXJsICs9IFwiJnN0YWdpbmc9dHJ1ZVwiOyAvLyBFbnN1cmUgd2UgaGl0IHRoZSBzdGFnaW5nIEFQSSB3aGVuIGluIGRldmVsb3BtZW50XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8zMDAwLywgXCI4MDgwXCIpO1xuICAgIH1cbiAgICAvLyB1cmwgPSB1cmwucmVwbGFjZSgvY29tXFwvLipcXC9zb25na2ljay13aWRnZXQuaHRtbC8sIFwiY29tL1wiKVxuICAgIHJldHVybiB1cmw7XG59O1xuY29uc3QgZ2V0SWZyYW1lSWQgPSAoaHJlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXNvdXJjZUlkID0gKF9hID0gZ2V0UmVxdWVzdEluZm9ybWF0aW9uKGhyZWYpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzb3VyY2VJZDtcbiAgICBjb25zdCB1bmlxdWVJZCA9IGBzb25na2ljay13aWRnZXQtJHtyZXNvdXJjZUlkIHx8IFwiXCJ9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAgKyAxKX1gO1xuICAgIHJldHVybiB1bmlxdWVJZDtcbn07XG5jb25zdCBzZXRVcElmcmFtZSA9ICh7IHNvdXJjZVRhZywgcGFyZW50U3R5bGUsIGRldGVjdFN0eWxlRW5hYmxlZCB9KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgY29uc3QgdXJsID0gKF9hID0gZ2V0SWZyYW1lVVJMKHsgc291cmNlVGFnLCBwYXJlbnRTdHlsZSwgZGV0ZWN0U3R5bGVFbmFibGVkIH0pKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiO1xuICAgIGNvbnN0IGlmcmFtZUlkID0gZ2V0SWZyYW1lSWQoc291cmNlVGFnLmhyZWYpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZnJhbWVJZCk7XG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiNDAwcHhcIjtcbiAgICBpZnJhbWUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiYm9yZGVyXCIsIFwibm9uZVwiKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZnJhbWVCb3JkZXJcIiwgXCIwXCIpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd1wiLCBcImNsaXBib2FyZC13cml0ZVwiKTtcbiAgICAvLyBpZnJhbWUuc2V0QXR0cmlidXRlKFxuICAgIC8vICAgXCJzYW5kYm94XCIsXG4gICAgLy8gICBcImFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LW1vZGFscyBhbGxvdy1kb3dubG9hZHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94XCJcbiAgICAvLyApXG4gICAgaWZyYW1lLnNyYyA9IHVybDtcbiAgICBjb25zdCBpbmplY3QgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzb3VyY2VUYWcgPT09IG51bGwgfHwgc291cmNlVGFnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VUYWcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgLy8gYWRkIGlmcmFtZSB0byBkb21cbiAgICAgICAgICAgIHNvdXJjZVRhZy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpZnJhbWUsIHNvdXJjZVRhZyk7XG4gICAgICAgICAgICAvLyBjb25uZWN0IGlmcmFtZSB0byB3aW5kb3dcbiAgICAgICAgICAgIENvbm5lY3QoaWZyYW1lLCBpZnJhbWVJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGluamVjdCgpO1xufTtcbmNvbnN0IGdldFBhcmVudFN0eWxlID0gKHRhZykgPT4ge1xuICAgIGxldCBwYXJlbnRTdHlsZSA9IG51bGw7XG4gICAgY29uc3QgZGV0ZWN0U3R5bGVFbmFibGVkID0gdGFnLmdldEF0dHJpYnV0ZShcImRhdGEtZGV0ZWN0LXN0eWxlXCIpID09PSBcInRydWVcIjtcbiAgICBpZiAoZGV0ZWN0U3R5bGVFbmFibGVkICYmIHRhZy5wYXJlbnROb2RlKSB7XG4gICAgICAgIHBhcmVudFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGFnLnBhcmVudE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4geyBwYXJlbnRTdHlsZSwgZGV0ZWN0U3R5bGVFbmFibGVkIH07XG59O1xuY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICAvLyBibG9jayBtdWx0aXBsZSBvZiB0aGlzIHNjcmlwdCBiZWluZyBydW4gZHVyaW5nIGV4ZWN1dGlvblxuICAgIGlmICh3aW5kb3dbXCJpc0xvYWRpbmdTS0lGcmFtZVwiXSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgd2luZG93W1wiaXNMb2FkaW5nU0tJRnJhbWVcIl0gPSB0cnVlO1xuICAgIGNvbnN0IHNvdXJjZVRhZ0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYS5zb25na2ljay13aWRnZXRcIik7XG4gICAgaWYgKHNvdXJjZVRhZ0xpc3QgPT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIm5vIGEgdGFnIGRldGVjdGVkXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc291cmNlVGFnTGlzdC5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgeyBwYXJlbnRTdHlsZSwgZGV0ZWN0U3R5bGVFbmFibGVkIH0gPSBnZXRQYXJlbnRTdHlsZSh0YWcpO1xuICAgICAgICBzZXRVcElmcmFtZSh7IHNvdXJjZVRhZzogdGFnLCBwYXJlbnRTdHlsZSwgZGV0ZWN0U3R5bGVFbmFibGVkIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXNldCgpO1xufTtcbi8vIHJlc2V0IGFmdGVyIGFsbCB3aWRnZXRzIGFkZGVkXG4vLyBhbGxvd3MgZm9yIHNjcmlwdCB0byBiZSByZWxvYWRlZCAtIGZpeGVzIHJlbG9hZCBvbiBUQiBwcmV2aWV3XG5jb25zdCByZXNldCA9ICgpID0+IHtcbiAgICB3aW5kb3dbXCJpc0xvYWRpbmdTS0lGcmFtZVwiXSA9IGZhbHNlO1xufTtcbigoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIilcbiAgICAgICAgaW5pdCgpO1xufSkoKTtcbi8vIHdhaXQgdW50aWwgZG9jIHJlYWR5IHN0YXRlIGdldHMgc2V0IHRvIGNvbXBsZXRlXG4vLyB0aGlzIGlzIG5vcm1hbCBzeW5jaHJvbnVzIHNjcmlwdCBsb2FkaW5nXG4vLyB3YWl0IGZvciB0aGUgb24gbG9hZCB0byBlbnN1cmUgd2UgY2FwdHVyZSBhbGwgd2lkZ2V0cyBvbiBwYWdlXG5kb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICBpbml0KCk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGluaXQ7XG4iXSwibmFtZXMiOlsiUmVzb2x1dGlvbiIsIkVycm9yQ29kZSIsIk5hdGl2ZUVycm9yTmFtZSIsIk1lc3NhZ2VUeXBlIiwiREVGQVVMVF9QT1JUX0JZX1BST1RPQ09MIiwiVVJMX1JFR0VYIiwib3BhcXVlT3JpZ2luU2NoZW1lcyIsInNlcmlhbGl6ZUVycm9yIiwibmFtZSIsIm1lc3NhZ2UiLCJzdGFjayIsImlkIiwia2V5UGF0aFRvU2VnbWVudHMiLCJrZXlQYXRoIiwic3BsaXQiLCJzZXRBdEtleVBhdGgiLCJzdWJqZWN0IiwidmFsdWUiLCJzZWdtZW50cyIsInJlZHVjZSIsInByZXZTdWJqZWN0Iiwia2V5IiwiaWR4IiwibGVuZ3RoIiwibWV0aG9kcyIsInByZWZpeCIsImZsYXR0ZW5lZE1ldGhvZHMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInB1c2giLCJqb2luIiwic2VnbWVudHNUb0tleVBhdGgiLCJjcmVhdGVLZXlQYXRoIiwiYXNzaWduIiwiY2FsbFNlbmRlciIsImluZm8iLCJtZXRob2RLZXlQYXRocyIsImRlc3Ryb3lDb25uZWN0aW9uIiwibG9nIiwibG9jYWxOYW1lIiwibG9jYWwiLCJyZW1vdGUiLCJvcmlnaW5Gb3JTZW5kaW5nIiwib3JpZ2luRm9yUmVjZWl2aW5nIiwiZGVzdHJveWVkIiwiYXBpIiwibWV0aG9kTmFtZSIsImFyZ3MiLCJpZnJhbWVSZW1vdmVkIiwiY2xvc2VkIiwiZSIsImVycm9yIiwiRXJyb3IiLCJjb2RlIiwiQ29ubmVjdGlvbkRlc3Ryb3llZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2VuZXJhdGVJZCIsImhhbmRsZU1lc3NhZ2VFdmVudCIsImV2ZW50Iiwic291cmNlIiwiZGF0YSIsInBlbnBhbCIsIm9yaWdpbiIsInJlcGx5TWVzc2FnZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXR1cm5WYWx1ZSIsInJldHVyblZhbHVlSXNFcnJvciIsIm9iaiIsImRlc2VyaWFsaXplZEVycm9yIiwiZGVzZXJpYWxpemVFcnJvciIsInJlc29sdXRpb24iLCJGdWxmaWxsZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FsbE1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImRlc2VyaWFsaXplTWV0aG9kcyIsIm9wdGlvbnMiLCJpZnJhbWUiLCJjaGlsZE9yaWdpbiIsInRpbWVvdXQiLCJkZWJ1ZyIsImNvbnNvbGUiLCJkZXN0cnVjdG9yIiwiY2FsbGJhY2tzIiwiZGVzdHJveSIsImNhbGxiYWNrIiwib25EZXN0cm95Iiwic3JjIiwic3JjZG9jIiwiTm9JZnJhbWVTcmMiLCJ2YWxpZGF0ZUlmcmFtZUhhc1NyY09yU3JjRG9jIiwiZmluZCIsInNjaGVtZSIsInN0YXJ0c1dpdGgiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwicmVnZXhSZXN1bHQiLCJleGVjIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJnZXRPcmlnaW5Gcm9tU3JjIiwic2VyaWFsaXplZE1ldGhvZHMiLCJoYW5kbGVTeW5NZXNzYWdlIiwic3luQWNrTWVzc2FnZSIsIm1ldGhvZE5hbWVzIiwiaGFuZGxlU3luTWVzc2FnZUZhY3RvcnkiLCJoYW5kbGVBY2tNZXNzYWdlIiwiZGVzdHJveUNhbGxSZWNlaXZlciIsInJlY2VpdmVyTWV0aG9kTmFtZXMiLCJ3aW5kb3ciLCJjcmVhdGVQcm9taXNlSGFuZGxlciIsIlJlamVjdGVkIiwiZXJyIiwiRGF0YUNsb25lRXJyb3IiLCJlcnJvclJlcGx5TWVzc2FnZSIsImFwcGx5IiwidGhlbiIsInJlY2VpdmVyTWV0aG9kTmFtZSIsImRlc3Ryb3lDYWxsU2VuZGVyIiwiaGFuZGxlQWNrTWVzc2FnZUZhY3RvcnkiLCJwcm9taXNlIiwic3RvcENvbm5lY3Rpb25UaW1lb3V0IiwidGltZW91dElkIiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsIkNvbm5lY3Rpb25UaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlTWVzc2FnZSIsImNvbnRlbnRXaW5kb3ciLCJjaGVja0lmcmFtZUluRG9jSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiaXNDb25uZWN0ZWQiLCJjbGVhckludGVydmFsIiwibW9uaXRvcklmcmFtZVJlbW92YWwiLCJpZnJhbWVJZCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwic2V0SWZyYW1lSGVpZ2h0IiwiaGVpZ2h0IiwiaWZyYW1lSW5Eb20iLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwidG9TdHJpbmciLCJjb25uZWN0aW9uIiwiY29ubmVjdFRvQ2hpbGQiLCJjaGlsZCIsInNldFJlZmVycmVyIiwiUCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiZ2V0Q3VzdG9tT3B0aW9ucyIsInNvdXJjZVRhZyIsImRldGVjdFN0eWxlRW5hYmxlZCIsInBhcmVudFN0eWxlIiwib3B0U3RyaW5nIiwib3B0aW9uIiwiZ2V0QXR0cmlidXRlIiwiY3NzUHJvcGVydHkiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiUFJPRFVDVElPTl9ET01BSU4iLCJTVEFHSU5HX0RPTUFJTiIsIkRFVl9ET01BSU4iLCJnZXRSZXF1ZXN0SW5mb3JtYXRpb24iLCJzb25na2lja1VybCIsIl9hIiwiX2IiLCJfYyIsIl9kIiwibWF0Y2giLCJSZWdFeHAiLCJyZXNvdXJjZVR5cGUiLCJyZXNvdXJjZUlkIiwidGFyZ2V0RG9tYWluIiwic3RhZ2luZ0VudiIsImRldkVudiIsImluaXQiLCJzb3VyY2VUYWdMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInRhZyIsInBhcmVudE5vZGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UGFyZW50U3R5bGUiLCJjcmVhdGVFbGVtZW50IiwidXJsIiwicmVxdWVzdEluZm8iLCJocmVmIiwid2lkZ2V0QW5jaG9yV2lkdGgiLCJ3aWR0aCIsIndpZGdldEFuY2hvclRleHQiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsInJlcGxhY2UiLCJnZXRJZnJhbWVVUkwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXRJZnJhbWVJZCIsInNldEF0dHJpYnV0ZSIsInJlcGxhY2VDaGlsZCIsInNldFVwSWZyYW1lIiwicmVhZHlTdGF0ZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=